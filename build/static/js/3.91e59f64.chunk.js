(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[3],{100:function(e,t,n){"use strict";var i=n(0),a=n(2),r=n(22),c=n(1),u=n(31),l=n(98),o=n.n(l);var s=function(e){var t=null,n=null,r=[o.a.InputElement];switch(!1===e.isValid&&(r.push(o.a.Invalid),e.invalidText&&(n=Object(i.jsx)("p",{className:o.a.ValidationError,children:e.invalidText}))),e.elementType){case"textarea":t=Object(i.jsx)("textarea",Object(a.a)(Object(a.a)({},e.elementConfig),{},{className:r.join(" "),value:e.value,onChange:e.onChange}));break;case"select":t=Object(i.jsx)("select",{className:r.join(" "),value:e.value,onChange:e.onChange,children:e.elementConfig.options.map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))});break;default:t=Object(i.jsx)("input",Object(a.a)(Object(a.a)({},e.elementConfig),{},{className:r.join(" "),value:e.value,onChange:e.onChange}))}return Object(i.jsxs)("div",{className:o.a.Input,children:[Object(i.jsx)("label",{className:o.a.label,children:e.label}),t,n]})},d=n(99),p=n.n(d);t.a=function(e){var t=Object(c.useState)(e.form),n=Object(r.a)(t,2),l=n[0],o=n[1],d=[];for(var h in l)d.push({id:h,config:l[h]});var v=d.map((function(e){var t;return null===(t=e.config.isValid)||void 0===t||t})).reduce((function(e,t){return e&&t}),!0);return Object(i.jsx)("div",{className:p.a.ContactData,children:Object(i.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit(l)},children:[d.map((function(e){var t;return Object(i.jsx)(s,{elementType:e.config.elementType,elementConfig:e.config.config,value:e.config.value,isValid:null===(t=e.config.isValid)||void 0===t||t||!1===e.config.isDirty,invalidText:e.config.invalidText,onChange:function(t){!function(e,t){var n=Object(a.a)({},l),i=Object(a.a)({},n[e]);if(i.value=t.target.value,i.isDirty=!0,i.validation){var r=function(e,t){var n=!0,i=null;return t.required&&(i=(n=""!==e.trim())?null:"Field is required."),n&&t.minLength&&(i=(n=e.length>=t.minLength)?null:"Must contain at least "+t.minLength+" characters."),n&&t.email&&(n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e),i="Must be a valid email"),n&&t.maxLength&&(i=(n=e.length<=t.maxLength)?null:"Must not contain more than "+t.maxLength+" characters."),{isValid:n,invalidText:i}}(i.value,i.validation);i.isValid=r.isValid,i.invalidText=r.invalidText}n[e]=i,o(n)}(e.id,t)}},e.id)})),Object(i.jsx)(u.a,{buttonType:"Success",disabled:!v,children:e.submitTitle})]})})}},101:function(e,t,n){e.exports={CheckOutSummary:"CheckOutSummary_CheckOutSummary__2beJp"}},102:function(e,t,n){e.exports={ContactData:"ContactData_ContactData__3ArQ-"}},103:function(e,t,n){e.exports={Checkout:"Checkout_Checkout__1OoAc"}},108:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(12),r=n(5),c=n(50),u=n(31),l=n(101),o=n.n(l);var s=function(e){return Object(i.jsxs)("div",{className:o.a.CheckOutSummary,children:[Object(i.jsx)("h1",{children:"We hope is tastes well!"}),Object(i.jsx)("div",{style:{width:"100%",margin:"auto",alignContent:"left"},children:Object(i.jsx)(c.a,{ingredients:e.ingredients})}),Object(i.jsx)("p",{children:Object(i.jsxs)("strong",{children:["Price: $",e.price.toFixed(2)]})}),Object(i.jsx)(u.a,{buttonType:"Danger",onClick:e.cancelHandler,children:"CANCEL"}),Object(i.jsx)(u.a,{buttonType:"Success",onClick:e.continueHandler,children:"CONTINUE"})]})},d=n(97),p=n(21),h=n(100),v=n(16),m=n(40),b=n(102),j=n.n(b);var f=Object(a.b)((function(e){return{ingredients:e.burger.ingredients,price:e.burger.price,loading:e.orders.loading,purchased:e.orders.purchased,token:e.auth.token,userId:e.auth.userId,email:e.auth.email}}),(function(e){return{purchaseBurger:function(t,n){return e(Object(d.b)(t,n))}}}))(Object(m.a)(Object(r.g)((function(e){var t={name:{elementType:"input",config:{type:"text",placeholder:"Enter Name"},value:"",isDirty:!1,validation:{required:!0},isValid:!1,invalidText:null},email:{elementType:"input",config:{type:"email",placeholder:"Enter Email"},value:e.email,isDirty:!0,validation:{required:!0,email:!0},isValid:!0,invalidText:null},street:{elementType:"input",config:{type:"text",placeholder:"Street Address"},value:"",isDirty:!1,validation:{required:!0},isValid:!1,invalidText:null},city:{elementType:"input",config:{type:"text",placeholder:"City"},value:"",isDirty:!1,validation:{required:!0},isValid:!1,invalidText:null},state:{elementType:"input",config:{type:"text",placeholder:"State"},value:"",isDirty:!1,validation:{required:!0},isValid:!1,invalidText:null},zipCode:{elementType:"input",config:{type:"text",placeholder:"Postal Code"},value:"",isDirty:!1,validation:{required:!0,minLength:5,maxLength:5},isValid:!1,invalidText:null},deliveryMethod:{elementType:"select",config:{options:["Fastest","Cheapest"]},value:"Fastest",isDirty:!0}};return e.purchased?Object(i.jsx)(r.a,{to:"/"}):Object(i.jsxs)("div",{className:j.a.ContactData,children:[Object(i.jsx)("h4",{children:"Enter your Contact Data"}),e.loading?Object(i.jsx)(v.a,{}):Object(i.jsx)(h.a,{form:t,onSubmit:function(t){var n={ingredients:e.ingredients,price:e.price,deliveryMethod:t.deliveryMethod.value,userId:e.userId,customer:{name:t.name.value,email:t.email.value,address:{street:t.street.value,city:t.city.value,state:t.state.value,zipCode:t.zipCode.value}}};e.purchaseBurger(n,e.token)},submitTitle:"ORDER"})]})})),p.a)),g=n(103),x=n.n(g);t.default=Object(a.b)((function(e){return{ingredients:e.burger.ingredients,price:e.burger.price}}),(function(e){return{purchaseStarted:function(){return e(Object(d.c)())}}}))(Object(r.g)((function(e){return e.ingredients?Object(i.jsxs)("div",{className:x.a.Checkout,children:[Object(i.jsx)(s,{ingredients:e.ingredients,cancelHandler:function(){e.history.goBack()},continueHandler:function(){e.purchaseStarted(),e.history.replace("/checkout/contact-data")},price:e.price}),Object(i.jsx)(r.b,{path:e.match.url+"/contact-data",component:f})]}):Object(i.jsx)(r.a,{to:"/"})})))},97:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return o}));var i=n(2),a=n(21),r=n(4),c=function(){return{type:r.i}},u=function(){return{type:r.f}},l=function(e,t){return function(n){n(u()),a.a.post("/orders.json?auth="+t,e).then((function(t){n(function(e,t){return{type:r.h,order:Object(i.a)(Object(i.a)({},t),{},{id:e})}}(t.data.name,e))})).catch((function(e){n(function(e){return{type:r.g,error:e}}(e))}))}},o=function(e,t){return function(n){var c="auth="+e+'&orderBy="userId"&equalTo="'+t+'"';a.a.get("/orders.json?"+c).then((function(e){n(u());var t,a=[];for(var c in e.data)a.push(Object(i.a)(Object(i.a)({},e.data[c]),{},{id:c}));n((t=a,{type:r.m,orders:t}))})).catch((function(e){n(function(e){return{type:r.n,error:e}}(e))}))}}},98:function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis",ValidationError:"Input_ValidationError__qMR97"}},99:function(e,t,n){e.exports={Fomr:"Form_Fomr__3nJ9t"}}}]);
//# sourceMappingURL=3.91e59f64.chunk.js.map