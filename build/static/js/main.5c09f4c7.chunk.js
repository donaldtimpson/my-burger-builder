(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],[,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return O}));var r="ADD_INGREDIENT",c="REMOVE_INGREDIENT",a="SET_INGREDIENTS",i="SET_INGREDIENTS_FAILED",o="PURCHASE_STARTED",s="ORDER_LOADING_START",u="PURCHASE_BURGER_SUCCESS",l="PURCHASE_BURGER_FAILED",d="SET_ORDERS",j="SET_ORDERS_FAILED",b="AUTH_STARTED",g="AUTH_SUCCESS",h="AUTH_FAILED",O="LOGOUT"},,,,,,,function(e,t,n){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__2US69",BreadTop:"BurgerIngredient_BreadTop__3Y4-R",Seeds1:"BurgerIngredient_Seeds1__J6vUJ",Seeds2:"BurgerIngredient_Seeds2__2Ylex",Meat:"BurgerIngredient_Meat__3flwI",Cheese:"BurgerIngredient_Cheese__3rOTJ",Salad:"BurgerIngredient_Salad__KLnhy",Bacon:"BurgerIngredient_Bacon__1KK6n"}},,,,,function(e,t,n){"use strict";var r=n(0),c=n(54),a=n.n(c);t.a=function(){return Object(r.jsx)("div",{className:a.a.Loader,children:"Loading..."})}},,,function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__O8649",Label:"BuildControl_Label__TQkTk",Less:"BuildControl_Less__3Ttg8",More:"BuildControl_More__1MY7B"}},function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__3kXLK",Open:"SideDrawer_Open__1tCv1",Close:"SideDrawer_Close__9j7x-",Logo:"SideDrawer_Logo__3voUv"}},function(e,t,n){"use strict";var r=n(27),c=n.n(r).a.create({baseURL:"https://react-burger-builder-2-d2c54-default-rtdb.firebaseio.com/"});t.a=c},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(27),c=n.n(r),a=n(4),i=function(e,t,n){return{type:a.d,token:e,userId:t,email:n}},o=function(){return function(e,t){t().burger.building=!1,localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("email"),localStorage.removeItem("experationDate"),e({type:a.e})}},s=function(e){return function(t){setTimeout((function(){t(o())}),e)}},u=function(e,t,n){return function(r){r({type:a.c});var o={email:e,password:t,returnSecureToken:!0};c.a.post(n?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDUoif9z0MUe7CEIMcemTzkgf5weitgGgA":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDUoif9z0MUe7CEIMcemTzkgf5weitgGgA",o).then((function(t){r(i(t.data.idToken,t.data.localId,e)),r(s(1e3*t.data.expiresIn));var n=new Date((new Date).getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("userId",t.data.localId),localStorage.setItem("email",e),localStorage.setItem("experationDate",n)})).catch((function(e){r(function(e){return{type:a.b,error:e}}(e.response.data.error.message))}))}},l=function(){return function(e,t){if(!t().auth.token){var n=new Date(localStorage.getItem("experationDate")).getTime()-(new Date).getTime();if(n>0){var r=localStorage.getItem("token"),c=localStorage.getItem("userId"),a=localStorage.getItem("email");e(i(r,c,a)),e(s(n))}}}}},,,function(e,t,n){"use strict";var r=n(0),c=n(29),a=n(57),i=n.n(a);t.a=function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.a,{show:e.show,onClick:e.onClick}),Object(r.jsx)("div",{className:i.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},children:e.children})]})}},function(e,t,n){"use strict";var r=n(0),c=n(56),a=n.n(c);t.a=function(e){return e.show?Object(r.jsx)("div",{className:a.a.Backdrop,onClick:e.onClick}):null}},function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__ApScI",Logo:"Toolbar_Logo__3Lk47",DesktopOnly:"Toolbar_DesktopOnly__LuPaL"}},function(e,t,n){"use strict";var r=n(0),c=n(36),a=n.n(c);t.a=function(e){return Object(r.jsx)("button",{className:[a.a.Button,a.a[e.buttonType]].join(" "),onClick:e.onClick,disabled:e.disabled,children:e.children})}},,,,function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__1YmbS",OrderButton:"BuildControls_OrderButton___M-Du",enable:"BuildControls_enable__9xLsD"}},function(e,t,n){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},,,function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},function(e,t,n){"use strict";var r=n(0),c=n(2),a=n(58),i=n(59),o=n(66),s=n(64),u=n(1),l=n(28);t.a=function(e,t){return function(n){Object(o.a)(d,n);var u=Object(s.a)(d);function d(){var e;Object(a.a)(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=u.call.apply(u,[this].concat(n))).state={error:null},e}return Object(i.a)(d,[{key:"componentDidMount",value:function(){var e=this;this.requestInterceptor=t.interceptors.request.use((function(t){return e.setState({error:null}),t}),(function(t){e.setState({error:t})})),this.responseInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.requestInterceptor),t.interceptors.response.eject(this.responseInterceptor)}},{key:"render",value:function(){var t=this;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.a,{show:this.state.error,onClick:function(){t.setState({error:null})},children:this.state.error?this.state.error.message:null}),Object(r.jsx)(e,Object(c.a)({},this.props))]})}}]),d}(u.Component)}},,,,,,,,,,function(e,t,n){"use strict";var r=n(0),c=n(65),a=n(55),i=n.n(a),o=n(13),s=n.n(o),u=n(11),l=n.n(u);function d(e){var t=null;switch(e.type){case"bread-top":t=Object(r.jsxs)("div",{className:l.a.BreadTop,children:[Object(r.jsx)("div",{classes:l.a.Seeds1}),Object(r.jsx)("div",{classes:l.a.Seeds2})]});break;case"salad":t=Object(r.jsx)("div",{className:l.a.Salad});break;case"bacon":t=Object(r.jsx)("div",{className:l.a.Bacon});break;case"cheese":t=Object(r.jsx)("div",{className:l.a.Cheese});break;case"meat":t=Object(r.jsx)("div",{className:l.a.Meat});break;case"bread-bottom":t=Object(r.jsx)("div",{className:l.a.BreadBottom});break;default:console.assert(!1)}return t}d.propTypes={type:s.a.string.isRequired};var j=d,b={salad:0,bacon:1,cheese:2,meat:3};t.a=function(e){var t=Object.keys(e.ingredients),n=(t=t.sort((function(e,t){return b[e]-b[t]}))).map((function(t){return Object(c.a)(Array(e.ingredients[t])).map((function(e,n){return Object(r.jsx)(j,{type:t},t+n)}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===n.length&&(n=Object(r.jsx)("p",{children:"Pleas start adding ingredients!"})),Object(r.jsxs)("div",{className:i.a.Burger,children:[Object(r.jsx)(j,{type:"bread-top"}),n,Object(r.jsx)(j,{type:"bread-bottom"})]})}},,,function(e,t,n){e.exports={App:"App_App__16ZpL"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__1twK-",load6:"Spinner_load6__1_74m",round:"Spinner_round__3G_CY"}},function(e,t,n){e.exports={Burger:"Burger_Burger__10T8F"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},function(e,t,n){e.exports={Modal:"Modal_Modal__1-5dN"}},,,function(e,t,n){e.exports={Logo:"Logo_Logo__1N0xH"}},function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},function(e,t,n){e.exports={MenuButton:"MenuButton_MenuButton__ynxtz"}},function(e,t,n){e.exports={Content:"Layout_Content__PrDi6"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),i=n(23),o=n.n(i),s=n(12),u=n(15),l=n(14),d=n(52),j=n(5),b=n(53),g=n.n(b),h=n(16),O=n(2),p=n(22),f=n(21),_=n(19),x=n.n(_);var m=function(e){return Object(r.jsxs)("div",{className:x.a.BuildControl,children:[Object(r.jsx)("div",{className:x.a.Label,children:e.title}),Object(r.jsx)("button",{className:x.a.Less,onClick:e.remove,disabled:e.removeDisabled,children:" Less "}),Object(r.jsx)("button",{className:x.a.More,onClick:e.add,children:" More "})]})},v=n(35),k=n.n(v),S=[{title:"Salad",type:"salad"},{title:"Bacon",type:"bacon"},{title:"Cheese",type:"cheese"},{title:"Meat",type:"meat"}];var I=function(e){var t=Object.keys(e.disabledControls).map((function(t){return e.disabledControls[t]})).reduce((function(e,t){return e&&t}),!0);return Object(r.jsxs)("div",{className:k.a.BuildControls,children:[Object(r.jsxs)("p",{children:["Price: ",Object(r.jsxs)("strong",{children:["$",e.price.toFixed(2)]})]}),S.map((function(t){return Object(r.jsx)(m,{title:t.title,add:function(){e.addIngredient(t.type)},remove:function(){e.removeIngredient(t.type)},removeDisabled:e.disabledControls[t.type]},t.title)})),Object(r.jsx)("button",{className:k.a.OrderButton,disabled:t,onClick:e.orderNowPressed,children:e.auth?"ORDER NOW":"SIGN IN TO ORDER"})]})},C=n(50),B=n(31);var y=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{style:{textTransform:"capitalize"},children:t}),": ",e.ingredients[t]]},t)}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Your Order"}),Object(r.jsx)("p",{children:"A delicious burger with the following ingredients:"}),Object(r.jsx)("ul",{children:t}),Object(r.jsx)("p",{children:Object(r.jsxs)("strong",{children:["Price: $",e.price.toFixed(2)]})}),Object(r.jsx)("p",{children:"Continue to purchase?"}),Object(r.jsx)(B.a,{buttonType:"Danger",onClick:e.cancelHandler,children:"CANCEL"}),Object(r.jsx)(B.a,{buttonType:"Success",onClick:e.continueHandler,children:"CONTINUE"})]})},N=n(28),D=n(40),T=n(4),w=function(){return function(e){f.a.get("ingredients.json").then((function(t){var n;e((n=t.data,{type:T.k,ingredients:n}))})).catch((function(t){e({type:T.l})}))}},L=Object(s.b)((function(e){return{ingredients:e.burger.ingredients,price:e.burger.price,error:e.burger.error,auth:null!==e.auth.token}}),(function(e){return{addIngredient:function(t){return e(function(e){return{type:T.a,ingredient:e}}(t))},removeIngredient:function(t){return e(function(e){return{type:T.j,ingredient:e}}(t))},initIngredients:function(){return e(w())}}}))(Object(D.a)(Object(j.g)((function(e){var t;Object(c.useEffect)((function(){e.initIngredients()}),[]);var n=Object(c.useState)({purchasing:!1}),a=Object(p.a)(n,2),i=a[0],o=a[1],s=function(){o({purchasing:!1})},u=Object(O.a)({},e.ingredients);for(var l in u)u[l]=0===u[l];var d=Object(r.jsx)(y,{ingredients:null!==(t=e.ingredients)&&void 0!==t?t:{},cancelHandler:s,continueHandler:function(){e.history.push("/checkout")},price:e.price}),j=e.ingredients?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C.a,{ingredients:e.ingredients}),Object(r.jsx)(I,{addIngredient:e.addIngredient,removeIngredient:e.removeIngredient,disabledControls:u,orderNowPressed:function(){e.auth?o({purchasing:!0}):e.history.push("/authentication")},price:e.price,auth:e.auth})]}):Object(r.jsx)(h.a,{});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(N.a,{show:i.purchasing,onClick:s,children:d}),e.error?Object(r.jsx)("p",{children:"Failed to load ingredients"}):j]})})),f.a)),E=n.p+"static/media/burger-logo.ec69c7f6.png",A=n(60),R=n.n(A);var M=function(e){return Object(r.jsx)("div",{className:R.a.Logo,children:Object(r.jsx)("img",{src:E,alt:"My Burger"})})},U=n(29),F=n(39),P=n.n(F);var G=function(e){return Object(r.jsx)("li",{className:P.a.NavigationItem,children:Object(r.jsx)(u.b,{to:e.link,activeClassName:P.a.active,onClick:e.onClick,children:e.children})})},z=n(61),H=n.n(z);var Y=function(e){return Object(r.jsxs)("ul",{className:H.a.NavigationItems,children:[Object(r.jsx)(G,{link:"/burger-builder",children:"Burger Builder"}),e.auth?Object(r.jsx)(G,{link:"/orders",children:"Orders"}):null,e.auth?Object(r.jsx)(G,{link:"/authentication",onClick:e.logout,children:"Logout"}):Object(r.jsx)(G,{link:"/authentication",children:"Sign In"})]})},q=n(20),K=n.n(q);var J=function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(U.a,{show:e.show,onClick:e.toggle}),Object(r.jsxs)("div",{className:[K.a.SideDrawer,e.show?K.a.Open:K.a.Close].join(" "),onClick:e.toggle,children:[Object(r.jsx)("div",{className:K.a.Logo,children:Object(r.jsx)(M,{})}),Object(r.jsx)("nav",{children:Object(r.jsx)(Y,{auth:e.auth,logout:e.logout})})]})]})},X=n(62),W=n.n(X);var V=function(e){return Object(r.jsxs)("div",{className:W.a.MenuButton,onClick:e.onClick,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})},Z=n(30),$=n.n(Z);var Q=function(e){return Object(r.jsxs)("header",{className:$.a.Toolbar,children:[Object(r.jsx)(V,{onClick:e.toggleSideDrawer}),Object(r.jsx)("div",{className:$.a.Logo,children:Object(r.jsx)(M,{})}),Object(r.jsx)("nav",{className:$.a.DesktopOnly,children:Object(r.jsx)(Y,{auth:e.auth,logout:e.logout})})]})},ee=n(25),te=n(63),ne=n.n(te),re=Object(s.b)((function(e){return{auth:null!==e.auth.token}}),(function(e){return{logout:function(){return e(Object(ee.c)())}}}))((function(e){var t=Object(c.useState)({openSideDrawer:!1}),n=Object(p.a)(t,2),a=n[0],i=n[1],o=function(){i({openSideDrawer:!a.openSideDrawer})};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q,{toggleSideDrawer:o,auth:e.auth,logout:e.logout}),Object(r.jsx)(J,{show:a.openSideDrawer,toggle:o,auth:e.auth,logout:e.logout}),Object(r.jsx)("main",{className:ne.a.Content,children:e.children})]})})),ce=a.a.lazy((function(){return n.e(3).then(n.bind(null,108))})),ae=a.a.lazy((function(){return n.e(5).then(n.bind(null,109))})),ie=a.a.lazy((function(){return n.e(4).then(n.bind(null,106))}));var oe=Object(j.g)(Object(s.b)((function(e){return{auth:null!==e.auth.token}}),(function(e){return{checkAuthState:function(){return e(Object(ee.b)())}}}))((function(e){return e.checkAuthState(),Object(r.jsx)("div",{className:g.a.App,children:Object(r.jsx)(re,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{path:"/burger-builder",component:L}),e.auth?Object(r.jsx)(j.b,{path:"/checkout",render:function(){return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(h.a,{}),children:Object(r.jsx)(ce,{})})}}):null,e.auth?Object(r.jsx)(j.b,{path:"/orders",render:function(){return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(h.a,{}),children:Object(r.jsx)(ae,{})})}}):null,Object(r.jsx)(j.b,{path:"/authentication",render:function(){return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(h.a,{}),children:Object(r.jsx)(ie,{})})}}),Object(r.jsx)(j.a,{from:"/",to:"/burger-builder"})]})})})}))),se=(n(95),function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,107)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))}),ue={token:null,userId:null,email:null,error:null,loading:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.c:return Object(O.a)(Object(O.a)({},e),{},{loading:!0,error:null});case T.d:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,token:t.token,userId:t.userId,email:t.email});case T.b:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.error});case T.e:return Object(O.a)(Object(O.a)({},e),{},{token:null,userId:null,email:null});default:return e}},de={salad:.5,bacon:.7,cheese:.4,meat:1.3},je={ingredients:null,price:4,error:!1,building:!1},be=function(e,t,n){var r=Object(O.a)({},e.ingredients);return r[t.ingredient]+=n,Object(O.a)(Object(O.a)({},e),{},{ingredients:r,price:e.price+n*de[t.ingredient],building:!0})},ge=function(e,t){var n=Object.keys(t.ingredients).map((function(e){return de[e]})).reduce((function(e,t){return e+t}),0)+4;return Object(O.a)(Object(O.a)({},e),{},{error:!1,price:n,ingredients:t.ingredients,building:!1})},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.a:return be(e,t,1);case T.j:return be(e,t,-1);case T.l:return Object(O.a)(Object(O.a)({},e),{},{error:!0});case T.k:return ge(e,t);default:return e}},Oe={orders:[],loading:!1,purchased:!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.i:return Object(O.a)(Object(O.a)({},e),{},{purchased:!1});case T.f:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case T.h:return{loading:!1,orders:e.orders.concat(t.order),purchased:!0};case T.g:return Object(O.a)(Object(O.a)({},e),{},{loading:!1});case T.m:return Object(O.a)(Object(O.a)({},e),{},{orders:t.orders,loading:!1});case T.n:return Object(O.a)(Object(O.a)({},e),{},{loading:!1});default:return e}},fe=Object(l.c)({burger:he,orders:pe,auth:le}),_e=l.d,xe=Object(l.e)(fe,_e(Object(l.a)(d.a)));o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(s.a,{store:xe,children:Object(r.jsx)(u.a,{children:Object(r.jsx)(oe,{})})})}),document.getElementById("root")),se()}],[[96,1,2]]]);
//# sourceMappingURL=main.5c09f4c7.chunk.js.map